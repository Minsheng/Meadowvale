/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * StudnetUI2.java
 *
 * Created on 24-Feb-2010, 2:46:00 AM
 */

package meadowvale;

import java.awt.Color;
import java.awt.Dimension;
import java.awt.Toolkit;
import java.text.SimpleDateFormat;
import java.util.Collection;
import java.util.Date;
import java.util.List;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JDialog;
import javax.swing.JList;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.ListModel;
import javax.swing.event.ListDataListener;
import meadowvale.controllers.exceptions.IllegalOrphanException;
import meadowvale.controllers.exceptions.NonexistentEntityException;
import meadowvale.entities.MvClass;
import meadowvale.entities.MvCoop;
import meadowvale.entities.MvEnrollment;
import meadowvale.entities.MvWeek;
import meadowvale.entities.MvWeeklyLog;

/**
 *
 * @author Vance
 */
public class StudentUI extends javax.swing.JFrame {
    public Application mvApp;
    // cache the class entity. only one class is used at a time on student side
    public MvClass mvClass;
    
    /** create new form StudnetUI */
    public StudentUI(Application mvApp) {
        this.mvApp = mvApp;
        this.setTitle(mvApp.TITLE);
        initComponents();
        centerPosition();
    }

    private void centerPosition() {
        Toolkit tk = Toolkit.getDefaultToolkit();
        Dimension screenDim = tk.getScreenSize();
        Dimension appDim = this.getSize();
        this.setLocation((screenDim.width-appDim.width)/2,
                         (screenDim.height-appDim.height)/2);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jLabel1 = new javax.swing.JLabel();
        jPanel6 = new javax.swing.JPanel();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        homeTabl = new javax.swing.JPanel();
        jPanel3 = new javax.swing.JPanel();
        student_name_label = new javax.swing.JLabel();
        today_label = new javax.swing.JLabel();
        jPanel8 = new javax.swing.JPanel();
        jLabel6 = new javax.swing.JLabel();
        remainHrs = new javax.swing.JLabel();
        approved_coop_hours = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        requried_coop_hours = new javax.swing.JLabel();
        jLabel12 = new javax.swing.JLabel();
        totalICHrs = new javax.swing.JLabel();
        jPanel9 = new javax.swing.JPanel();
        jLabel22 = new javax.swing.JLabel();
        jLabel24 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        jLabel25 = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        unLogList = new javax.swing.JList();
        jScrollPane3 = new javax.swing.JScrollPane();
        subLogList = new javax.swing.JList();
        jScrollPane4 = new javax.swing.JScrollPane();
        appLogList = new javax.swing.JList();
        jScrollPane5 = new javax.swing.JScrollPane();
        disAppLogList = new javax.swing.JList();
        coopTabs = new javax.swing.JPanel();
        jLabel21 = new javax.swing.JLabel();
        jLabel37 = new javax.swing.JLabel();
        jLabel38 = new javax.swing.JLabel();
        searchCombo1 = new javax.swing.JComboBox();
        orderCombo = new javax.swing.JComboBox();
        searchCoop = new javax.swing.JButton();
        searchText1 = new javax.swing.JTextField();
        andOR = new javax.swing.JComboBox();
        searchCombo2 = new javax.swing.JComboBox();
        searchText2 = new javax.swing.JTextField();
        jScrollPane7 = new javax.swing.JScrollPane();
        coopSearchTable = new javax.swing.JTable();
        jPanel4 = new javax.swing.JPanel();
        jPanel1 = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        changePassword = new javax.swing.JButton();
        changePasswordLabel = new javax.swing.JLabel();
        oldPasswordField = new javax.swing.JPasswordField();
        newPassword1Field = new javax.swing.JPasswordField();
        newPassword2Field = new javax.swing.JPasswordField();
        jLabel7 = new javax.swing.JLabel();
        logout_button = new javax.swing.JButton();
        exit = new javax.swing.JButton();

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/meadowvale/resources/meadowvale_logo.jpg"))); // NOI18N

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setBackground(new java.awt.Color(255, 255, 255));
        setLocationByPlatform(true);
        setResizable(false);
        addWindowFocusListener(new java.awt.event.WindowFocusListener() {
            public void windowGainedFocus(java.awt.event.WindowEvent evt) {
                formWindowGainedFocus(evt);
            }
            public void windowLostFocus(java.awt.event.WindowEvent evt) {
            }
        });

        jPanel6.setBackground(new java.awt.Color(255, 255, 255));
        jPanel6.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 2, true));
        jPanel6.setMaximumSize(new java.awt.Dimension(867, 675));
        jPanel6.setMinimumSize(new java.awt.Dimension(867, 675));
        jPanel6.setPreferredSize(new java.awt.Dimension(867, 675));

        jTabbedPane1.setBackground(new java.awt.Color(204, 255, 204));
        jTabbedPane1.setBorder(new javax.swing.border.LineBorder(new java.awt.Color(102, 102, 102), 2, true));
        jTabbedPane1.setTabPlacement(javax.swing.JTabbedPane.LEFT);
        jTabbedPane1.setMinimumSize(new java.awt.Dimension(584, 27));
        jTabbedPane1.setPreferredSize(new java.awt.Dimension(1422, 709));
        jTabbedPane1.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                jTabbedPane1StateChanged(evt);
            }
        });

        homeTabl.setBackground(new java.awt.Color(204, 255, 204));
        homeTabl.setMaximumSize(new java.awt.Dimension(888, 539));
        homeTabl.setName("homeTab"); // NOI18N

        jPanel3.setBackground(new java.awt.Color(204, 255, 204));

        student_name_label.setFont(new java.awt.Font("Verdana", 1, 18));
        student_name_label.setText("Hello Message");

        today_label.setFont(new java.awt.Font("Verdana", 1, 18));
        today_label.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        today_label.setText("Date is shown here");

        jPanel8.setBackground(new java.awt.Color(204, 255, 204));

        jLabel6.setFont(new java.awt.Font("Verdana", 1, 14));
        jLabel6.setText("Co-op Hours Remaining:");

        remainHrs.setBackground(new java.awt.Color(255, 255, 255));
        remainHrs.setFont(new java.awt.Font("Verdana", 0, 14));
        remainHrs.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        remainHrs.setText("0");

        approved_coop_hours.setBackground(new java.awt.Color(255, 255, 255));
        approved_coop_hours.setFont(new java.awt.Font("Verdana", 0, 14));
        approved_coop_hours.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        approved_coop_hours.setText("0");

        jLabel3.setFont(new java.awt.Font("Verdana", 1, 14));
        jLabel3.setText("Co-op Hours Approved:");

        jLabel5.setFont(new java.awt.Font("Verdana", 1, 14));
        jLabel5.setText("Co-op Hours Reqiured:");

        requried_coop_hours.setBackground(new java.awt.Color(255, 255, 255));
        requried_coop_hours.setFont(new java.awt.Font("Verdana", 0, 14));
        requried_coop_hours.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        requried_coop_hours.setText("0");

        jLabel12.setFont(new java.awt.Font("Verdana", 1, 14));
        jLabel12.setText("Total In-Class Hours:");

        totalICHrs.setBackground(new java.awt.Color(255, 255, 255));
        totalICHrs.setFont(new java.awt.Font("Verdana", 0, 14));
        totalICHrs.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        totalICHrs.setText("0");

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel5)
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(jLabel6, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel3, javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel12, javax.swing.GroupLayout.Alignment.LEADING))
                        .addGap(18, 18, 18)
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(remainHrs, javax.swing.GroupLayout.PREFERRED_SIZE, 189, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(approved_coop_hours, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 189, Short.MAX_VALUE)
                            .addComponent(requried_coop_hours, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 189, Short.MAX_VALUE)
                            .addComponent(totalICHrs, javax.swing.GroupLayout.PREFERRED_SIZE, 189, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap())
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(requried_coop_hours, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(approved_coop_hours, javax.swing.GroupLayout.DEFAULT_SIZE, 30, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(remainHrs, javax.swing.GroupLayout.DEFAULT_SIZE, 30, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel12, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(totalICHrs, javax.swing.GroupLayout.DEFAULT_SIZE, 30, Short.MAX_VALUE))
                .addContainerGap())
        );

        jPanel9.setBackground(new java.awt.Color(204, 255, 204));

        jLabel22.setFont(new java.awt.Font("Verdana", 1, 14));
        jLabel22.setText("Unsubmitted Logs:");

        jLabel24.setFont(new java.awt.Font("Verdana", 1, 14));
        jLabel24.setText("Submitted Logs:");

        jLabel23.setFont(new java.awt.Font("Verdana", 1, 14));
        jLabel23.setText("Approved Logs:");

        jLabel25.setFont(new java.awt.Font("Verdana", 1, 14));
        jLabel25.setText("Disapproved Logs:");

        unLogList.setFont(new java.awt.Font("Verdana", 0, 12));
        unLogList.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                unLogListMouseClicked(evt);
            }
        });
        jScrollPane2.setViewportView(unLogList);

        subLogList.setFont(new java.awt.Font("Verdana", 0, 12));
        subLogList.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                subLogListMouseClicked(evt);
            }
        });
        jScrollPane3.setViewportView(subLogList);

        appLogList.setFont(new java.awt.Font("Verdana", 0, 12));
        appLogList.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                appLogListMouseClicked(evt);
            }
        });
        jScrollPane4.setViewportView(appLogList);

        disAppLogList.setFont(new java.awt.Font("Verdana", 0, 12));
        disAppLogList.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                disAppLogListMouseClicked(evt);
            }
        });
        jScrollPane5.setViewportView(disAppLogList);

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 146, Short.MAX_VALUE)
                    .addComponent(jLabel22, javax.swing.GroupLayout.Alignment.LEADING))
                .addGap(37, 37, 37)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel24)
                    .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(29, 29, 29)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel23)
                    .addComponent(jScrollPane4, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(32, 32, 32)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel25)
                    .addComponent(jScrollPane5, javax.swing.GroupLayout.PREFERRED_SIZE, 149, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(28, 28, 28))
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel22, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel23, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel24, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel25, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane3, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 273, Short.MAX_VALUE)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 273, Short.MAX_VALUE)
                    .addComponent(jScrollPane4, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 273, Short.MAX_VALUE)
                    .addComponent(jScrollPane5, javax.swing.GroupLayout.DEFAULT_SIZE, 273, Short.MAX_VALUE)))
        );

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(student_name_label, javax.swing.GroupLayout.PREFERRED_SIZE, 292, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 158, Short.MAX_VALUE)
                .addComponent(today_label, javax.swing.GroupLayout.PREFERRED_SIZE, 260, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(43, 43, 43))
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGap(34, 34, 34)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(student_name_label, javax.swing.GroupLayout.DEFAULT_SIZE, 29, Short.MAX_VALUE)
                    .addComponent(today_label, javax.swing.GroupLayout.DEFAULT_SIZE, 29, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jPanel9, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        javax.swing.GroupLayout homeTablLayout = new javax.swing.GroupLayout(homeTabl);
        homeTabl.setLayout(homeTablLayout);
        homeTablLayout.setHorizontalGroup(
            homeTablLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(homeTablLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );
        homeTablLayout.setVerticalGroup(
            homeTablLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(homeTablLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );

        jTabbedPane1.addTab("Home", homeTabl);

        coopTabs.setBackground(new java.awt.Color(204, 255, 204));
        coopTabs.setMaximumSize(new java.awt.Dimension(747, 539));
        coopTabs.setName("coopTab"); // NOI18N

        jLabel21.setFont(new java.awt.Font("Verdana", 1, 18));
        jLabel21.setText("Search Co-op Job Postings");

        jLabel37.setFont(new java.awt.Font("Verdana", 0, 14));
        jLabel37.setText("Search By:");

        jLabel38.setFont(new java.awt.Font("Verdana", 0, 14));
        jLabel38.setText("Order By:");

        searchCombo1.setFont(new java.awt.Font("Verdana", 0, 14));
        searchCombo1.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Year:", "Business:", "Location:", "Activity:" }));

        orderCombo.setFont(new java.awt.Font("Verdana", 0, 14));
        orderCombo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Year", "Business", "Location", "Activity", "Contact" }));

        searchCoop.setFont(new java.awt.Font("Verdana", 1, 14));
        searchCoop.setText("Search");
        searchCoop.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                searchCoopActionPerformed(evt);
            }
        });

        searchText1.setFont(new java.awt.Font("Verdana", 0, 14));

        andOR.setFont(new java.awt.Font("Verdana", 0, 14));
        andOR.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "OR", "AND" }));

        searchCombo2.setFont(new java.awt.Font("Verdana", 0, 14));
        searchCombo2.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Year:", "Business:", "Location:", "Activity:" }));

        searchText2.setFont(new java.awt.Font("Verdana", 0, 14));

        coopSearchTable.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {},
                {},
                {},
                {}
            },
            new String [] {

            }
        ));
        jScrollPane7.setViewportView(coopSearchTable);

        javax.swing.GroupLayout coopTabsLayout = new javax.swing.GroupLayout(coopTabs);
        coopTabs.setLayout(coopTabsLayout);
        coopTabsLayout.setHorizontalGroup(
            coopTabsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(coopTabsLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(coopTabsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane7, javax.swing.GroupLayout.DEFAULT_SIZE, 763, Short.MAX_VALUE)
                    .addComponent(jLabel21)
                    .addGroup(coopTabsLayout.createSequentialGroup()
                        .addComponent(jLabel37)
                        .addGap(18, 18, 18)
                        .addComponent(searchCombo1, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(searchText1, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(andOR, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(searchCombo2, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(searchText2, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(coopTabsLayout.createSequentialGroup()
                        .addComponent(jLabel38)
                        .addGap(26, 26, 26)
                        .addComponent(orderCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 72, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(searchCoop)))
                .addContainerGap())
        );
        coopTabsLayout.setVerticalGroup(
            coopTabsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(coopTabsLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel21)
                .addGap(30, 30, 30)
                .addGroup(coopTabsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(searchCombo1)
                    .addComponent(searchText1)
                    .addGroup(coopTabsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(jLabel37)
                        .addComponent(andOR)
                        .addComponent(searchCombo2)
                        .addComponent(searchText2)))
                .addGap(18, 18, 18)
                .addGroup(coopTabsLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel38)
                    .addComponent(orderCombo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(searchCoop))
                .addGap(26, 26, 26)
                .addComponent(jScrollPane7, javax.swing.GroupLayout.PREFERRED_SIZE, 375, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(27, 27, 27))
        );

        jTabbedPane1.addTab("Search Co-op", coopTabs);

        jPanel4.setBackground(new java.awt.Color(204, 255, 204));
        jPanel4.setName("gradesTab"); // NOI18N

        jPanel1.setBackground(new java.awt.Color(204, 255, 204));

        jLabel8.setFont(new java.awt.Font("Verdana", 1, 18)); // NOI18N
        jLabel8.setText("Change Password");

        jLabel9.setFont(new java.awt.Font("Verdana", 0, 14));
        jLabel9.setText("Enter Old Password:");

        jLabel10.setFont(new java.awt.Font("Verdana", 0, 14));
        jLabel10.setText("Enter New Password:");

        jLabel11.setFont(new java.awt.Font("Verdana", 0, 14));
        jLabel11.setText("Re-Enter New Password:");

        changePassword.setFont(new java.awt.Font("Verdana", 1, 14));
        changePassword.setText("Change Password");
        changePassword.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                changePasswordActionPerformed(evt);
            }
        });

        changePasswordLabel.setFont(new java.awt.Font("Verdana", 0, 14));

        oldPasswordField.setFont(new java.awt.Font("Verdana", 0, 14));

        newPassword1Field.setFont(new java.awt.Font("Verdana", 0, 14));

        newPassword2Field.setFont(new java.awt.Font("Verdana", 0, 14));

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jLabel8))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(36, 36, 36)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel9)
                            .addComponent(jLabel10)
                            .addComponent(jLabel11)
                            .addComponent(changePassword))
                        .addGap(24, 24, 24)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(changePasswordLabel, javax.swing.GroupLayout.PREFERRED_SIZE, 360, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                .addComponent(oldPasswordField, javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(newPassword1Field, javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(newPassword2Field, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.PREFERRED_SIZE, 141, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addContainerGap(188, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel8)
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel9)
                    .addComponent(oldPasswordField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel10)
                    .addComponent(newPassword1Field, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel11)
                    .addComponent(newPassword2Field, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(changePasswordLabel, javax.swing.GroupLayout.DEFAULT_SIZE, 27, Short.MAX_VALUE)
                    .addComponent(changePassword, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(350, 350, 350))
        );

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        jTabbedPane1.addTab("Personal Info", jPanel4);

        jLabel7.setBackground(new java.awt.Color(255, 255, 255));
        jLabel7.setIcon(new javax.swing.ImageIcon(getClass().getResource("/meadowvale/resources/meadowvale_logo.jpg"))); // NOI18N

        logout_button.setFont(new java.awt.Font("Verdana", 1, 14));
        logout_button.setText("Log Out");
        logout_button.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                logout_buttonActionPerformed(evt);
            }
        });

        exit.setFont(new java.awt.Font("Verdana", 1, 14));
        exit.setText("Exit");
        exit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                exitActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addComponent(jLabel7)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 432, Short.MAX_VALUE)
                .addComponent(logout_button, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(exit, javax.swing.GroupLayout.PREFERRED_SIZE, 108, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .addComponent(jTabbedPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 873, Short.MAX_VALUE)
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addComponent(jLabel7)
                        .addGap(6, 6, 6))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                        .addContainerGap(52, Short.MAX_VALUE)
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(exit, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(logout_button, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(22, 22, 22)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jTabbedPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 564, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, 877, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents


    private void jTabbedPane1StateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jTabbedPane1StateChanged
        changeTab();
    }//GEN-LAST:event_jTabbedPane1StateChanged

    public void changeTab(){
        JPanel selectedTab = (JPanel) this.jTabbedPane1.getSelectedComponent();
        if (selectedTab.getName().equals("homeTab")){
            prepareHomeTab();
        } else if (selectedTab.getName().equals("coopTab")){
            prepareCoopTab();
        }
    }

    private void logout_buttonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_logout_buttonActionPerformed
        this.setVisible(false);
        LoginUI ui = new LoginUI(new Application());
        ui.setVisible(true);
    }//GEN-LAST:event_logout_buttonActionPerformed

    private void formWindowGainedFocus(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowGainedFocus
        changeTab();
    }//GEN-LAST:event_formWindowGainedFocus

    private void exitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_exitActionPerformed
        String confirm = "Are you sure that you want to exit?";
        int selection = JOptionPane.showConfirmDialog(null,
                confirm, "Confirmation", 0);
        if (selection == 1){
            return;
        }
        System.exit(1);
    }//GEN-LAST:event_exitActionPerformed

    private void searchCoopActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchCoopActionPerformed
        MyDTM t = (MyDTM)this.coopSearchTable.getModel();

        String[] keyWords = {"year_number", "business", "location",
        "activity", "contact"};
        String[] binary = {"OR", "AND"};

        String searchKey1 = keyWords[this.searchCombo1.getSelectedIndex()];
        String searchKey2 = keyWords[this.searchCombo2.getSelectedIndex()];
        String orderBy = keyWords[this.orderCombo.getSelectedIndex()];
        String combine = binary[this.andOR.getSelectedIndex()];
        String searchTerm1 = this.searchText1.getText();
        String searchTerm2 = this.searchText2.getText();

        if (searchKey1.equals("activity")){
            searchTerm1 = " LIKE '%" + searchTerm1 + "%'";
        } else {
            searchTerm1 = " = '" + searchTerm1 + "'";
        }

        if (searchKey2.equals("activity")){
            searchTerm2 = " LIKE '%" + searchTerm2 + "%'";
        } else {
            searchTerm2 = " = '" + searchTerm2 + "'";
        }

        String predicate = searchKey1 + searchTerm1 + combine
                + " " + searchKey2 + searchTerm2 + " order by " +
                orderBy;

        List<MvCoop> coopList = mvApp.selectEntitiesBy(MvCoop.class, predicate);

        while (this.coopSearchTable.getRowCount() > 0){
            t.removeRow(0);
        }

        if (coopList.size() == 0){
            t.addRow(new Object[] {"", "No Job Postings", " Matches Your",
            "Search Terms.", "Please Try Again.", "",});
        }
        for (MvCoop mvCoop : coopList){
            t.addRow(new Object[] {mvCoop.getYearNumber(), mvCoop.getBusiness(),
            mvCoop.getLocation(), mvCoop.getActivity(),
            mvCoop.getContact(), mvCoop.getPhone()});
        }
}//GEN-LAST:event_searchCoopActionPerformed

    private void changePasswordActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_changePasswordActionPerformed
        String Password = mvApp.user.getUserPassword();
        char[] charOldPassword = this.oldPasswordField.getPassword();
        String oldPassword = new String(charOldPassword);
        char[] charNewPassword1 = this.newPassword1Field.getPassword();
        String newPassword1 = new String(charNewPassword1);
        char[] charNewPassword2 = this.newPassword2Field.getPassword();
        String newPassword2 = new String(charNewPassword2);

        if (oldPassword.length() == 0){
            this.oldPasswordField.requestFocus();
            this.changePasswordLabel.setText("Please enter the old password.");
            this.changePasswordLabel.setForeground(Color.red);
            return;
        }

        if (!Password.equals(oldPassword)){
            this.oldPasswordField.setText("");
            this.oldPasswordField.requestFocus();
            this.changePasswordLabel.setText("The old password is incorrect.");
            this.changePasswordLabel.setForeground(Color.red);
            return;
        }

        if (newPassword1.equals("")){
            this.newPassword1Field.requestFocus();
            this.changePasswordLabel.setText("Please enter the new password.");
            this.changePasswordLabel.setForeground(Color.red);
            return;
        }

        if (newPassword2.equals("")){
            this.newPassword2Field.requestFocus();
            this.changePasswordLabel.setText("Please re-type the new password.");
            this.changePasswordLabel.setForeground(Color.red);
            return;
        }

        if (!newPassword1.equals(newPassword2)){
            this.newPassword1Field.setText("");
            this.newPassword2Field.setText("");
            this.newPassword1Field.requestFocus();
            this.changePasswordLabel.setText("The new passwords do not match.");
            this.changePasswordLabel.setForeground(Color.red);
            return;
        }

        mvApp.user.setUserPassword(newPassword1);
        try {
            mvApp.MvUserController.edit(mvApp.user);
            this.oldPasswordField.setText("");
            this.newPassword1Field.setText("");
            this.newPassword2Field.setText("");
            this.oldPasswordField.requestFocus();
            this.changePasswordLabel.setText("The password is now changed.");
            this.changePasswordLabel.setForeground(Color.green);
        } catch (IllegalOrphanException ex) {
            Logger.getLogger(StudentUI.class.getName()).log(Level.SEVERE, null, ex);
        } catch (NonexistentEntityException ex) {
            Logger.getLogger(StudentUI.class.getName()).log(Level.SEVERE, null, ex);
        } catch (Exception ex) {
            Logger.getLogger(StudentUI.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_changePasswordActionPerformed

    private void unLogListMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_unLogListMouseClicked
        if (evt.getClickCount() < 2){
            return;
        }
        displayLogSheet(this.unLogList);
    }//GEN-LAST:event_unLogListMouseClicked

    private void subLogListMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_subLogListMouseClicked
        if (evt.getClickCount() < 2){
            return;
        }
        displayLogSheet(this.subLogList);
    }//GEN-LAST:event_subLogListMouseClicked

    private void appLogListMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_appLogListMouseClicked
        if (evt.getClickCount() < 2){
            return;
        }
        displayLogSheet(this.appLogList);
    }//GEN-LAST:event_appLogListMouseClicked

    private void disAppLogListMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_disAppLogListMouseClicked
        if (evt.getClickCount() < 2){
            return;
        }
        displayLogSheet(this.disAppLogList);
    }//GEN-LAST:event_disAppLogListMouseClicked

    private void displayLogSheet(JList list){
        if (list.getSelectedValue() == null){
            return;
        }
        String selectedWeek = list.getSelectedValue().toString();
        String[] parseWeek = selectedWeek.split(" ");
        int week_number = Integer.parseInt(parseWeek[2]);

        String findWeek = "week_number = " + week_number +
                " AND class_id = " + this.mvClass.getId();
        List<MvWeek> weekList =
                mvApp.selectEntitiesBy(MvWeek.class, findWeek);
        MvWeek wantedWeek = weekList.get(0);

        WeeklyLogSheet newSheet =
                new WeeklyLogSheet(mvApp, this.mvClass.getId(),
                wantedWeek, this.mvClass);
        JDialog dialog = new JDialog(this, "Weekly Log Sheet", true);
        dialog.getContentPane().add(newSheet);
        dialog.pack();
        dialog.setLocationRelativeTo(null);
        newSheet.dialogWindow = dialog;
        dialog.setVisible(true);
    }

    public class MyDTM extends javax.swing.table.DefaultTableModel{
        @Override
        public boolean isCellEditable(int row, int column) {
            return false;
        }
    }

    private void prepareHomeTab(){
        //Set the name field
        String firstName = mvApp.user.getMvPersonId().getFirstName();
        String lastName = mvApp.user.getMvPersonId().getLastName();
        this.student_name_label.setText("Welcome, " + firstName + " " +
                lastName);

        //Set today field
        Date today = new Date();
        SimpleDateFormat df = new SimpleDateFormat("MMMM dd,yyyy");
        this.today_label.setText("Today is " + df.format(today));

        String findEnroll = "student_id = "
                + mvApp.user.getMvPersonId().getId();
        List<MvEnrollment> enrollList =
                mvApp.selectEntitiesBy(MvEnrollment.class, findEnroll);

        int maxClass = -1;
        MvEnrollment mostRecentEnroll = null;
        for (MvEnrollment mvEnrollment : enrollList){
            if (mvEnrollment.getClassId().getId() > maxClass){
                mostRecentEnroll = mvEnrollment;
            }
        }
        this.mvClass = mostRecentEnroll.getClassId();

        int requiredHours = mostRecentEnroll.getUniqueCoopHour();
        this.requried_coop_hours.setText(requiredHours + " Hours" +
                " 0 Minutes");

        int totalApprovedMins = 0;
        int actualHrs = 0;
        int actualMins = 0;
        int totalApprovedICMins = 0;
        int actualICHrs = 0;
        int actualICMins = 0;

        String findLogs = "mv_student_id = " + mvApp.user.getId();
        List<MvWeeklyLog> weeklyLogList =
                mvApp.selectEntitiesBy(MvWeeklyLog.class, findLogs);

        for (MvWeeklyLog mvWeeklyLog : weeklyLogList){
            if (mvWeeklyLog.getWeekId().getClassId().getId()
                    == this.mvClass.getId()){
                if (mvWeeklyLog.getApprovedId() != null){
                    totalApprovedMins += mvWeeklyLog.getTotalMins();
                    totalApprovedICMins += mvWeeklyLog.getTotalIc();
                }
            }
        }

        actualHrs = totalApprovedMins / 60;
        actualMins = totalApprovedMins - actualHrs * 60;
        String totalApprovedHours = actualHrs + " Hours "
                + actualMins + " Minutes";

        actualICHrs = totalApprovedICMins / 60;
        actualICMins = totalApprovedICMins - actualICHrs * 60;
        String totalApprovedICHours = actualICHrs + " Hours "
                + actualICMins + " Minutes";

        this.approved_coop_hours.setText(totalApprovedHours);
        this.totalICHrs.setText(totalApprovedICHours);

        int remainMins = requiredHours * 60 - totalApprovedMins;
        int actualRemainHrs = remainMins / 60;
        int actualRemainMins = remainMins - actualRemainHrs * 60;
        this.remainHrs.setText(actualRemainHrs + " Hours " +
                actualRemainMins + " Minutes");

        String findWeeks = "class_id = " +
                this.mvClass.getId() + " order by week_number";
        List<MvWeek> weekList =
                mvApp.selectEntitiesBy(MvWeek.class, findWeeks);

        String[] unSubmittedLogList = new String[weekList.size()];
        int i = 0;
        for (MvWeek mvWeek : weekList){
            boolean exists = false;
            for (MvWeeklyLog log : weeklyLogList){
                if (log.getWeekId().getId().equals(mvWeek.getId())){
                    exists = true;
                }
            }
            if (exists == false){
                unSubmittedLogList[i] = "Week No. " + mvWeek.getWeekNumber();
                i++;
            }
        }
        this.unLogList.setListData(noNullArray(unSubmittedLogList));

        String[] submittedLogList = new String[weekList.size()];
        int j = 0;
        for (MvWeek mvWeek : weekList){
            for (MvWeeklyLog log : weeklyLogList){
                if (log.getWeekId().getId().equals(mvWeek.getId())){
                    if ((log.getApprovedId() == null) &&
                            (log.getDisapprovedId() == null)){
                        submittedLogList[j] =
                                "Week No. " + mvWeek.getWeekNumber();
                        j++;
                    }
                }
            }
        }
        this.subLogList.setListData(noNullArray(submittedLogList));

        String[] approvedLogList = new String[weekList.size()];
        int k = 0;
        for (MvWeek mvWeek : weekList){
            for (MvWeeklyLog log : weeklyLogList){
                if (log.getWeekId().getId().equals(mvWeek.getId())){
                    if (log.getApprovedId() != null){
                        approvedLogList[k] =
                                "Week No. " + mvWeek.getWeekNumber();
                        k++;
                    }
                }
            }
        }
        this.appLogList.setListData(noNullArray(approvedLogList));

        String[] disApprovedLogList = new String[weekList.size()];
        int t = 0;
        for (MvWeek mvWeek : weekList){
            for (MvWeeklyLog log : weeklyLogList){
                if (log.getWeekId().getId().equals(mvWeek.getId())){
                    if (log.getDisapprovedId() != null){
                        disApprovedLogList[t] =
                                "Week No. " + mvWeek.getWeekNumber();
                        t++;
                    }
                }
            }
        }
        this.disAppLogList.setListData(noNullArray(disApprovedLogList));
    }

    private String[] noNullArray (String[] nullArray){
        int count = 0;
        for (int i = 0; i < nullArray.length; i++){
            if (nullArray[i] != null){
                count++;
            }
        }
        String[] noNullArray = new String[count];
        int index = 0;
        for (int i = 0; i < nullArray.length; i++){
            if (nullArray[i] != null){
                noNullArray[index] = nullArray[i];
                index++;
            }
        }
        return noNullArray;
    }

    private void prepareCoopTab() {
        MyDTM t = new MyDTM();
        this.coopSearchTable.setModel(t);
        t.addColumn ((Object)"Year");
        t.addColumn ((Object)"Business");
        t.addColumn ((Object)"Location");
        t.addColumn ((Object)"Activity");
        t.addColumn ((Object)"Contact");
        t.addColumn ((Object)"Phone Number");
     }

    /**
    * @param args the command line arguments
    */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new StudentUI(new Application()).setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox andOR;
    private javax.swing.JList appLogList;
    private javax.swing.JLabel approved_coop_hours;
    private javax.swing.JButton changePassword;
    private javax.swing.JLabel changePasswordLabel;
    private javax.swing.JTable coopSearchTable;
    private javax.swing.JPanel coopTabs;
    private javax.swing.JList disAppLogList;
    private javax.swing.JButton exit;
    private javax.swing.JPanel homeTabl;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel38;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane7;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JButton logout_button;
    private javax.swing.JPasswordField newPassword1Field;
    private javax.swing.JPasswordField newPassword2Field;
    private javax.swing.JPasswordField oldPasswordField;
    private javax.swing.JComboBox orderCombo;
    private javax.swing.JLabel remainHrs;
    private javax.swing.JLabel requried_coop_hours;
    private javax.swing.JComboBox searchCombo1;
    private javax.swing.JComboBox searchCombo2;
    private javax.swing.JButton searchCoop;
    private javax.swing.JTextField searchText1;
    private javax.swing.JTextField searchText2;
    private javax.swing.JLabel student_name_label;
    private javax.swing.JList subLogList;
    private javax.swing.JLabel today_label;
    private javax.swing.JLabel totalICHrs;
    private javax.swing.JList unLogList;
    // End of variables declaration//GEN-END:variables

}
